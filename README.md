# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура проекта и взаимодействия
В основе архитектуры проекта лежит событийно-ориентированный подход, обеспечивающий динамичное взаимодействие между различными компонентами системы :   
- `Модели` : Отвечают за управление и хранение данных. Они инициируют события при изменении состояния данных, например, при добавлении товара в корзину или изменении деталей заказа.
- `Слушатели событий` : Расположены в основном коде приложения и реагируют на инициированные моделями события. Они выполняют необходимые вычисления или обработку данных и передают их компонентам отображения для последующего визуального представления.
- `Компоненты отображения` : Отвечают за представление данных пользователю. Они обновляются в ответ на изменения в моделях, отражая актуальное состояние сайта.
***

## Модели

### 1.`Model`

#### Структура и назначение
`Model` это абстрактный базовый класс для всех моделей данных в проекте. Он предоставляет универсальную структуру для управления данными и их взаимодействием с системой событий.   
- Гарда `isModel` : Функция для проверки, является ли объект экземпляром `Model`.
- Свойство `events` : Система событий для уведомления о изменениях в модели.
##### Конструктор
`constructor(data: Partial<T>, events: IEvents)` - Инициализирует модель данными.
##### Методы
- `emitChanges(event: string, payload?: object)` : Отправляет уведомление о том, что модель была изменена. Генерирует событие с указанным именем и данными.
#### Типы данных
- `IEvents` : Интерфейс для системы управления событиями.
- `T` : Обобщенный тип данных, представляющий структуру данных модели.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Класс `Model` используется для представления и управления данными бизнес-логики в проекте. Модели могут взаимодействовать с компонентами отображения, предоставляя им необходимые данные, а также могут реагировать на действия пользователя, генерируя события через `IEvents`. `Model` является фундаментальной частью архитектуры приложения, обеспечивая структурированное управление данными и их интеграцию с событийной системой. Это способствует четкому разделению логики данных и пользовательского интерфейса, что является ключевым аспектом событийно-ориентированной архитектуры.

### 2. `Product`

#### Структура и назначение
Класс `Product` отвечает за представление данных продукта в проекте. Он обеспечивает структуру для хранения и доступа к характеристикам продукта.   
Свойства :   
- `id (string)` : Уникальный идентификатор продукта.
- `title (string)` : Название продукта.
- `description (string)` : Описание продукта.
- `price (number | null)` : Цена продукта. Может быть не указана.
- `category (string)` : Категория продукта.
- `image (string)` : Ссылка на изображение продукта.
##### Конструктор
`constructor(data: IProduct)` - Инициализирует экземпляр класса этими данными.
#### Типы данных
- `IProduct` : Интерфейс, описывающий структуру данных продукта.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Класс `Product` используется в различных компонентах приложения для отображения информации о продуктах. Класс `Product` может быть связан с компонентами отображения, такими как карточки продуктов или списки продуктов.

### 3. `AppState`

#### Структура и назначение
Класс `AppState` является центральной моделью для управления состоянием проекта, включая каталог продуктов, корзину, информацию о заказе и ошибки валидации форм.   
Свойства :   
- `catalog (Product[])` : Массив продуктов, представляющих каталог.
- `basket (Product[])` : Массив продуктов в корзине пользователя.
- `order (IOrder)` : Информация о текущем заказе.
- `preview (string | null)` : ID продукта для предпросмотра.
- `formErrors (FormErrors)` : Ошибки валидации формы.
##### Конструктор
`constructor(data: IAppState)` - Инициализирует модель начальными значениями состояния проекта.
##### Методы
- `clearBasket()` : Очищает корзину пользователя.
- `addToBasket(item: Product)` : Добавляет продукт в корзину.
- `removeFromBasket(item: Product)` : Удаляет продукт из корзины.
- `updateBasket()` : Обновляет состояние корзины.
- `setCatalog(items: IProduct[])` : Устанавливает каталог продуктов.
- `setPreview(item: Product)` : Устанавливает предпросмотр продукта.
- `clearOrder()` : Очищает информацию о текущем заказе.
- `setOrderField(field: keyof IOrderForm, value: string)` : Устанавливает значение поля формы заказа.
- `validateOrder()` : Проверяет правильность данных заказа.
- `setContactField(field: keyof IContactForm, value: string)` : Устанавливает значение поля контактных данных.
- `validateContact()` : Проверяет правильность контактных данных.
#### Типы данных
- `IAppState` : Интерфейс для общего состояния приложения. Включает в себя поля для каталога продуктов, корзины, текущего заказа, предпросмотра продукта и ошибок форм.
- `IOrder` : Описывает структуру заказа в проекте. Включает информацию о способе оплаты, адресе доставки, электронной почте, номере телефона, общей стоимости и списка заказанных товаров.
- `IOrderForm` : Используется для определения полей формы заказа. Включает в себя поля, связанные с процессом оформления заказа, такие как адрес доставки и способ оплаты.
- `FormErrors` : Представляет собой структуру для хранения ошибок валидации формы. Это может быть объект с ключами, соответствующими именами полей формы, и значениями, представляющими текст ошибок.
- `IContactForm` : Определяет поля для формы контактных данных пользователя. Включает такие поля, как электронная почта и номер телефона.
- `IProduct` : Описывает структуру данных продукта. Он включает в себя идентификатор, название, описание, цену, категорию и ссылку на изображение продукта.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`AppState` взаимодействует с компонентами отображения, предоставляя им данные о состоянии приложения и реагируя на действия пользователя. Модель генерирует события для обновления пользовательского интерфейса в ответ на изменения состояния.


## Слушатели событий

### 1.`Api`
  
#### Структура и назначение
Класс `Api` является ключевым элементом для взаимодействия с внешними API и сервером в рамках проекта. Он отвечает за отправку HTTP-запросов и обработку ответов от сервера. Это включает в себя стандартные операции,такие как получение данных (`GET`) и отправка данных (`POST`).    
- `baseUrl` : Основной URL для запросов к API.
- `options` : Настройки для запросов, включая заголовки.
##### Конструктор
`constructor(baseUrl: string, options: RequestInit = {})` - Инициализирует базовый URL и заголовки для запросов.
##### Методы
- `handleResponse(response: Response): Promise<object>` : Защищенный метод, обрабатывает ответы сервера. Возвращает данные в формате JSON или генерит ошибку при неудачном ответе.
- `get(uri: string): Promise<object>` : Выполняет GET-запрос к указанному URI. Использует `handleResponse` для обработки ответа.
- `post(uri: string, data: object, method: ApiPostMethods = 'POST'): Promise<object>` : Выполняет POST-запрос с телом запроса и указанным методом. Также использует `handleResponse`. 
#### Типы данных
- `ApiPostMethods` : Тип, описывающий допустимые методы HTTP-запросов для POST-операций.
- `ApiListResponse<Type>` : Тип, представляющий стандартный ответ API со списком элементов и общим количеством.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`Api` не взаимодействует напрямую с пользовательским интерфейсом, но предоставляет данные для моделей и компонентов отображения. Ответы от сервера, полученные через `Api`, могут быть использованы для обновления состояния проекта и отображения информации пользователю. `Api` поддерживает архитектурный паттерн, основанный на централизованном управлении данными и взаимодействии с внешними ресурсами. Он не относится напрямую к паттернам MVC, MVP или MVVM, но обеспечивает важную интеграцию между клиентской частью приложения и сервером.

### 2. `EventEmitter`

#### Структура и назначение
 Класс, который функционирует как центральный брокер событий в проекте. Этот класс повзоляет компонентам подписываться на события, реагировать на них и инициировать собственные события.   
- `_events` : Коллекция подписчиков для каждого события.
##### Конструктор
`constructor()` - Инициализирует `_events` как карту для управления подписками на события.
##### Методы
- `on<T extends object>(eventName: EventName, callback: (event: T) => void)` : Подписка на событие. Добавляет обработчик события к указанному имени события.
- `off(eventName: EventName, callback: Subscriber)` : Отписка от события. Удаляет обработчик события.
- `emit<T extends object>(eventName: string, data?: T)` : Инициирует событие, уведомляя всех подписчиков.
- `onAll(callback: (event: EmitterEvent) => void)` : Подписка на все события.
- `offAll()` : Удаляет все обработчики событий.
- `trigger<T extends object>(eventName: string, context?: Partial<T>)` : Создает функцию-триггер, которая при вызове генерирует событие.
#### Типы данных
- `EventName` : Имя события.
- `Subscriber` : Тип функции-обработчика события.
- `EmitterEvent` : Тип данных для обработчика, слушающего все события.
- `IEvents` : Интерейс для управления событиями.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`EventEmitter` используется во всем проекте для управления событиями между различными компонентами. Это позволяет создавать слабо связанные компоненты, которые могут взаимодействовать друг с другом через систему событий, улучшая модульность и гибкость проекта. `EventEmitter` играет ключевую роль в событийно-ориентированной архитектуре проекта, обеспечивая централизованный механизм для обработки событий, что способствует эффективной коммуникации между различными частями проекта.

### 3. `LarekAPI`

#### Структура и назначение
`LarekAPI` расширяет базовый класс `Api`, предоставляя спецефические методы для работы с API магазина. Он обеспечивает функциональность для получения списка продуктов, детальной информации о продуктах и оформления заказов.   
Свойства :   
- `cdn(string)` : Базовый URL для загрузки изображений продуктов. 
##### Конструктор
`constructor(cdn: string, baseUrl: string, options?: RequestInit)` - Устанавливает базовый URL для API и CDN для изображений.
##### Методы
- `getProductList():` : Получает список продуктов с сервера.
- `getProductItem(id: string)` : Получает детальную информацию о конкретном продукте.
- `orderProducts(order: IOrder)` : Отправляет заказ на сервер и получает результат.
#### Типы данных
- `IProduct` : Интерфейс для структуры данных продукта.
- `IOrder` : Интерфейс для структуры данных заказа.
- `IOrderResult` : Интерфейс для структуры данных результата заказа.
- `ApiListResponse` : Тип для структуры ответа списка API.
- `ILarekAPI` : Интерфейс, описывающий методы `LarekAPI`.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`LarekAPI` взаимодействует непосредственно с серверным API для получения и отправки данных.


## Компоненты отображения

### 1. `Component`

#### Структура и назначение
Класс `Component` является абстрактным базовым классом для всех компонентов пользовательского интерфейса в проекте. Он представляет общий функционал для работы с DOM-элементами и управления их поведением и внешним видом.   
##### Конструктор
`constructor(container: HTMLElement)` - Принимает DOM элемент, который является корневым элементом компонента.
##### Методы
- `toggleClass` : Добавляет и удаляет CSS-класс у элемента.
- `setText` : Устанавливает текстовое содержимое элемента.
- `setDisabled` : Меняет статус блокировки (disabled) элемента.
- `setHidden`/`setVisible` : Управляет видимостью элемента.
- `setImage` : Устанавливает изображение и альтернативный текст для элемента изображения.
- `render(data?: Partial<T>): HTMLElement` : Метод для рендеринга компонента. Принимает опциональные данные и обновляет состояние компонента перед его отображением.
#### Типы данных
`T` : Обобщенный тип, представляющий структуру данных, с которыми работает компонент.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Компоненты, наследующиеся от `Component`, используются для создания конкретных элементов пользовательского интерфейса. Они могут взаимодейстовать с моделями для отображения данных и обрабатывать пользовательский ввод, генерируя события, которые влияют на данные проекта. Класс `Component` лежит в основе системы управления пользовательским интерфейсом, обеспечивая единый подход к созданию и управлению визуальными компонентами проекта. Он ключевой для реализации интерактивных и динамичных интерфейсов.

### 2. `Modal` 

#### Структура и назначение
Класс `Modal` расширяет базовый компонент `Component` для управления модальными окнами в приложении. Он обеспечивает функционал для открытия, закрытия и управления содержимым модальных окон.   
- `_closeButton` : Кнопка для закрытия модального окна.
- `_content` : Элемент для содержимого модального окна.
##### Конструктор
`constructor(container: HTMLElement, events: IEvents)` - Инициализирует элементы управления модального окна.
##### Методы
- `set content(value: HTMLElement)` : Устанавливает содержимое модального окна.
- `open()` : Открывает модальное окно и генерирует событие `modal:open`.
- `close()` : Закрывает модальное окно, очищает его содержимое и генерирует событие `modal:close`.
- `render(data: IModalData): HTMLElement` : Отображает модальное окно с заданными данными.
#### Типы данных
- `IModalData` : Тип данных, представляющий информацию, необходимую для отображения в модальном окне.
#### Взаимодействие с другими частями приложения использование в архитектуре
`Modal` используется для отображения важной информации, форм или подтверждений во всплывающем окне,не переходя на другую страницу. Он взаимодействует с пользователем и может генерировать события, которые обрабатываются в других частях приложения. `Modal` является ключевым компонентом для создания интерактивного пользовательско-ориентированного интерфейса. Эффективное использование модальных окон улучшает взаимодействие с пользователем и повышает удобство проекта.

### 3. `Form`

#### Структура и назначение
Класс `Form` расширяет базовый компонент `Component`, предоставляя функционал для управления формами в проекте. Этот класс облегчает обработку ввода данных пользователем и управление состоянием формы, включая отображение ошибок валидации.   
- `_submit` : Кнопка отправки формы.
- `_errors` : Элемент для отображения ошибок формы.
##### Конструктор
`constructor(container: HTMLFormElement, events: IEvents)` - Инициализирует элементы управления формы и подписывается на события ввода и отправки формы.
##### Методы
- `onInputChange(field: keyof T, value: string)` : Обрабатывает изменения в полях ввода формы. Включает автоматическую коррекцию ввода номера телефона.
- `set valid(value: boolean)` : Управляет активностью кнопки отправки на основе валидности формы.
- `set errors(value: string)` : Устанавливает текст ошибок для отображения в форме.
- `render(state: Partial<T> & IFormState)` : Отображает форму с заданными данными, обновляя ее состояние и отображение ошибок.
#### Типы данных
- `IFormState` : Тип данных, представляющий состояние формы, включая валидность и ошибки.
- `T` : Обобщенный тип данных, представляющий структуру данных, с которой работает форма.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`Form` используется для сбора и обработки данных, вводимых пользователем. Он взаимодействует с системой событий для отправки данных и получения обратной связи от других компонентов проекта, таких как модели и слушатели событий. `Form` является ключевым компонентом для создания интерактивных форм, поддерживая двустороннее связывание данных и упрощая валидацию и обработку пользовательского ввода. Это обеспечивает эффективное взаимодействие с пользователем и позволяет собирать данные в структурированной и контролируемой манере.

### 4. `Basket`

#### Структура и назначение
Класс `Basket` расширяет базовый класс `Component` и управляет отображением корзины покупок в проекте. Он обеспечивает интерактивное управление элементами в корзине, включая список товаров и общую стоимость.   
Свойства :   
- `_list` : Элемент списка, отображающий товары в корзине.
- `_total` : Элемент для отображения общей стоимости товаров в корзине.
- `_button` : Кнопка для перехода к оформлению заказа.
##### Конструктор
`constructor(container: HTMLElement, events: EventEmitter)` - Инициализирует элементы управления корзины и подписывается на события.
##### Методы
- `toggleButton(isDisabled: boolean)` : Переключает активность кнопки корзины.
- `set items(items: HTMLElement[])` : Устанавливает элементы корзины. Показывает сообщение "Корзина пуста", если список товаров пуст.
- `set total(total: number)` : Устанавливает и отображает общую стоимость товаров в корзине.
#### Типы данных
- `IBasketView` : Интерфейс, описывающий структуру данных, используемых для отображения корзины.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Компонент `Basket` важен для предоставления пользователями интерактивного интерфейса управления товарами в корзине. Он взаимодействует с системой событий для уведомления о действиях пользователя, таких как переход к оформлению заказа. `Basket` функционирует как часть пользовательского интерфейса в проекте, сочетая в себе элементы отображения и взаимодействия.Роль в отображении: отображает данные корзины и обрабатывает пользовательский ввод, передавая его для дальнейшей обработки.Связь с моделью: Получает и отображает данные о продуктах и общей стоимости из модели проекта.

### 5. `Card`

#### Структура и назначение
Класс `Card` расширяет `Component` для представления карточки продукта. Он управляет отображением информации о продукте, включая название, описание, цену и изображение.   
Свойства :   
- `_index` : Индикатор порядкового номера продукта в корзине.
- `_title` : Название продукта.
- `_description` : Описание продукта.
- `_category` : Категория продукта.
- `_price` : Цена продукта.
- `_image` : Изображение продукта.
- `_button` : Кнопка действия на карточке продукта.
- `_buttonTitle` : Название кнопки.
##### Конструктор
`constructor(container: HTMLElement, actions?: IActions)` - Инициализирует элементы карточки и устанавливает обработчики событий для кнопок.
##### Методы
- `disablePriceButton(value: number | null):` : Отключает кнопку, если нет цены.
- `Геттеры и Сеттеры` : Для управления свойствами карточки продукта, включая `id`, `title`, `price`, `category`, `index`, `image`, `description`, `buttonTitle`.
#### Типы данных
- `ICard` : Интерфейс, описывающий структуру данных для карточки продукта.
- `IActions` : Интерфейс для действий, которые можно выполнить с карточкой продукта.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`Card` используется для отображения данных о продукте в удобном и интерактивном формате. Он может быть интегрирован в списки продуктов или каталоги, предоставляя пользователю важную информацию и возможность взаимодействия.

### 6. `OrderForm`

#### Структура и назначение
Класс `OrderForm` расширяет класс `Form` для управления формой заказа.Управляет выбором способа оплаты и вводом адреса доставки.   
Свойства :   
- `_cardButton` : Кнопка выбора оплаты картой.
- `_cashButton` : Кнопка выбора оплаты наличными.
##### Конструктор
`constructor(container: HTMLFormElement, events: IEvents, actions?: IActions)` - Инициализирует элементы управления формы и устанавливает обработчики событий.
##### Методы
- `toggleStateButtons(target: HTMLElement)` : Переключает активность кнопок выбора способа оплаты.
- Cеттер `address` : Устанавливает адрес доставки.
#### Типы данных
- `IOrderForm` : Интерфейс, описывающий структуру данных для формы заказа.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Используется для сбора и обработки данных в процессе оформления заказа. Взаимодействует с системой для отправки данных и получения обратной связи от других компонентов проекта.

### 7. `ContactForm`

#### Структура и назначение
Класс `ContactForm` расширяет класс `Form` для управления формой контактных данных. Управляет вводом номера телефона и адреса электронной почты.   
##### Конструктор
`constructor(container: HTMLFormElement, events: IEvents)` - Инициализирует форму контактных данных.
##### Методы
- Сеттеры `phone` и `email` : устанавливают значения номера телефона и адреса электронной почты.
#### Типы данных
- `IOrderForm` : Интерфейс, описывающий структуру данных для формы заказа.
#### Взаимодействие с другими частями приложения и использование в архитектуре
Используется для сбора и обработки данных в процессе оформления заказа. Взаимодействует с системой для отправки данных и получения обратной связи от других компонентов проекта.

### 8. `Page`

#### Структура и назначение
Класс `Page` управляет основными элементами интерфейса страницы, включая счетчик корзины, каталог продуктов и обертку страницы.   
Свойства :    
- `_counter` : Элемент счетчика корзины.
- `_catalog` : Контейнер для элементов каталога продуктов.
- `_wrapper` : Обертка страницы.
- `_basket` : Элемент корзины.
##### Конструктор
`constructor(container: HTMLElement, events: IEvents)` - Инициализирует элементы страницы и назначает обработчики событий.
##### Методы
- `set counter(value: number)` : Обновляет счетчик товаров в корзине.
- `set catalog(items: HTMLElement[])` : Заполняет каталог продуктов.
- `set locked(value: boolean)` : Управляет блокировкой страницы.
#### Типы данных
- `IPage` : Интерфейс, описывающий структуру данных для компонента.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`Page` является центральным компонентом для управления основными элементами интерфейса на странице. Он обеспечивает обновление элементов в ответ на действия пользователя или изменения в состоянии проекта.

### 9. `Success`

#### Структура и назначение
`Success` расширяет базовый класс `Component` и управляет отображением сообщения об успешном выполнении операции, например, после оформления заказа.   
Свойства :   
- `_close` : Кнопка для закрытия сообщения об успехе.
- `_total` : Элемент для отображения информации о списанных средствах или других деталях успешной операции.
##### Конструктор
`constructor(container: HTMLElement, actions: ISuccessActions)` - Bнициализирует элементы интерфейса и назначает обработчики событий.
##### Методы
- `set total(value: string)` : Устанавливает и отображает текстовое сообщение об успехе операции.
#### Типы данных
- `ISuccess` : Интерфейс, описывающий структуру данных для компонента.
- `ISuccessActions` :Интерфейс действий, которые могут быть выполнены в компоненте.
#### Взаимодействие с другими частями приложения и использование в архитектуре
`Success` используется для информирования пользователя об успешно завершенных операциях, таких как оформление заказа. Этот компонент представляет четкую обратную связь о результате действий пользователя.




































































## Базовый код
Включает в себя низкоуровневые утилиты, сервисы и конфигурации, которые яаляются фундаментом приложения.

### 1. `Брокер событий (EventEmitter)`
Класс который обеспечивает управление событиями в приложении. Он позволяет подписываться на события, генерировать события и управлять обработчиками.  
`constructor()` - создает новый экземпляр брокера событий.  
#### Методы:  
- `on / off` : Подписывает обработчик на событие / Удаляет обработчик события с указанным именем.
- `emit` : Генерирует событие с указанным именем и данными для всех подписанных обработчиков событий.
- `onAll / offAll` : Подписывает / Удаляет обработчик на все события.
- `trigger` : Создает 'триггер' для события с указанным именем и контекстом, который можно вызвать для генерации события.

### 2. `Api`
Класс представляет собой инструмент для взаимодействия с удаленным веб-сервером посредством HTTP запросов.  
`constructor(baseUrl: string, options: RequestInit = {})` - создает новый экземпляр класса с указанным URL-адрессом и настраивает объект опций.  
#### Методы :  
- `handleResponse` : Метод отвечающий за обработку ответа от сервера после отправки HTTP запроса.
- `get` : Метод для выполнения HTTP GET запроса к Api.
- `post` : Метод для выполнения HTTP POST запроса к Api.

### 3. `Component<T>`
Абстрактный класс для создания компонентов пользовательского интерфейса. Представляет общие методы и утилиты для работы с DOM элементами и является основой для всех компонентов.  
`constructor(container: HTMLElement)` - Принимает HTML элемент, который будет использоваться как контейнер для компонента.  
#### Методы :   
- `render` : Отрисовывает компонент, применяя переданные данные. Возвращает корневой элемент коммпонента.
- `toggleClass` : Переключает класс у заданного элемента.
- `setText` : Устанавливает текстовое содержимое для элемента.
- `setDisabled` : Устанавливает или снимает блокировку элемента.
- `setHidden / setVisible` : Скрывает / Показывает элемент.
- `setImage` : Устанавливает изображение и альтернативный текст для элемента img.

### 4. `Model<T>`
Служит основой для всех моделей данных. Он предоставляет методы для управления состоянием взаимодействия с другими компонентами через систему событий.  
`constructor(data: Partial<T>, events: IEvents)` - Принимает объект данных и объект событий. Инициализирует модель, присваивая ей предоставленные данные.  
#### Методы :  
- `emitChanges` : Оповещает о изменениях в модели, отправляя событие через систему событий.

## Компоненты модели данных.
### 1. `Product`
Класс представляет собой модель данных для товара в интернет-магазине. Он включает в себя все необходимые свойства, которые описывают товар, и методы для управления этими данными.   
Наследуется от `Model<IProduct>`   
`constructor()` наследуется от `Model`   
#### Методы :
Наследуются от `Model`.   

### 2. `AppState`
Класс отвечает за управление и хранение центролизованного состояния приложения. Инкапсулирует в себе данные о каталоге товаров, корзине покупок, текущем заказе, а также информацию для предпросмотра товаров и обработки форм.   
Наследуется от `Model<IAppState>`
`constructor` наследуется от `Model`   
#### Методы :
- `addToBasket / removeFromBasket` : Добавляет / Удаляет товар изз корзины.
- `clearBasket` : Очищает корзину.
- `calculateTotal` : Вычисляет общую стоимость товаров в корзине.
- `setCatalog` : Обновляет каталог товаров.
- `setPreview` : Устанавливает товар для предпросмотра.
- `setOrderField` : Устанавливает значение поля формы заказа.
- `validateOrder` : Проверяет валидность информации заказа.
- `setContactField` : Устанавливает значение поля контактной информации.
- `validateContact` : Проверяет валидность контактной информации.   

## Компоненты представления.
### 1. `Page`   
Компонент является базовым компонентом для страницы. Он отвечает за управление ключевыми элементами страницы, такими как счетчик корзины, каталог товаров и блокировка страницы.   
Наследуется от `Component<IPage>`  
`constructor(container: HTMLElement, events: IEvents)` - `container`: Контейнер, в котором будет размещаться компонент страницы, `events` - Объект для управления событиями.   
#### Методы :   
- `set counter` : Обновляет текстовое содержимое счетчика корзины в соотвествии с переданным значением.
- `set catalog` : Заменяет дочерние элементы каталога товаров на переданный массив элементов.
- `set locked` : Добавляет и удаляет класс у обертки страницы в зависимости от значения.

### 2. `Modal`
Компонент для создания и управления модальными окнами на сайте.   
Наследуется от `Component<IModalData>`   
`constructor(container: HTMLElement, events: IEvents)` - Инициализирует элементы модального окна и связывает события.
#### Методы :
- `set content` : Устанавливает содержимое модального окна.
- `open` : Открывает модальное окно и инициализирует событие открытия модального окна.
- `close` : Закрывает модальное окно, очищает его содержимое и инициирует событие закрытия модального окна.
- `render` : Рендерит модальное окно с данными и открывает его.

### 3. `Form`
Компонент для управления формами. Он обрабатывает пользовательский ввод, отображает ошибки валидации и управляет отправкой формы.   
Наследуется от `Component<IFormState>`   
`constructor(container: HTMLFormElement, events: IEvents)` - Инициализация элементов формы и привязка событий.   
#### Методы :
- `onInputChange` : Обработка изменений в полях ввода.
- `set valid` : Установка доступности кнопки отправки формы в зависимости от ее валидности.
- `set errors` : Отображение ошибок валидации в форме.
- `render` : Рендеринг формы с учетом текущего состояния.

### 4. `Card`
Компонент для отображения карточки товара. Он обеспечивает отображение важной информации о товаре и обработку пользовательских взаимодействий, таких как клик по кнопке.   
Наследуется от `Component<ICard>`   
`constructor(container: HTMLElement, actions?: IActions)` - Инициализация элементов карточки и привязка событий.
#### Методы :
- `unablePriceButton` : Управляет доступностью кнопки в зависимости от цены.
- `set / get id, index, title, description, category, price, image, buttonTitle` : Сеттеры и геттеры для свойств карточки.

### 5. `Basket`
Компонент для отображения и управления корзиной покупок. Он определяет функциональность для отображения списка товаров, общей стоимости и управления кнопкой оформления заказа.   
Наследуется от `Component<IBasketView>`   
`constructor(container: HTMLElement, events: EventEmitter)` - Инициализация элементов корзины и привязка событий.
#### Методы :
- `toggleStateButton` : Управляет доступностью кнопки оформления заказа.
- `set items` : Устанавливает товары в корзине.
- `set total` : Устанавливает общую стоимость товаров в корзине.

### 6. `OrderForm`
Компонент предназначен для управления формой доставки, включая обработку ввода личных данных пользователем и выбора способа оплаты.   
Наследуется от `Form<IOrderForm>`   
`constructor(container: HTMLFormElement, events: IEvents, actions?: IActions)` - Инициализирует элементы формы и привязывает союытия.
#### Методы :
- `toggleStateButtons` : Переключает активное состояние кнопок выбора способа оплаты.
- `set address` : Устанавливает адресс доставки.

### 7. `ContactForm`
Компонент предназначен для управления формой доставки данных, включая обработку ввода телефона и электронной почты пользователя.   
наследуется от `Form<IContactForm>`   
`constructor(container: HTMLFormElement, events: IEvents)` - Инициализирует форму контактных данных.   
#### Методы :
- `set phone` : Устанавливает номер телефона в форме.
- `set email` : Устанавливает адресс электронной почты в форме.

### 8. `Success`
Компонент для отображения сообщений об успешных операциях на сайте. Он может использоваться для информирования пользователя о успешном завершении различных процессов, таких как оформления заказа или успешная оплата.   
Наследуется от `Component<ISuccess>`   
`constructor(container: HTMLElement, actions: ISuccessActions)` - Инициализирует элементы уведомления и привязывает события.   
#### Методы :
- `set total` : Устанавливает текстовое содержимое, связанное с успешной операцией.
